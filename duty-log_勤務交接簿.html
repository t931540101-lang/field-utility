<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å‹¤å‹™äº¤æ¥ç°¿</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f4f5f7;
            color: #333;
            margin: 0;
            padding: 15px;
        }
        .container {
            width: 100%;
            background: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            box-sizing: border-box;
        }
        h2 {
            text-align: center;
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 22px;
        }
        label {
            display: block;
            margin-top: 15px;
            font-weight: 600;
            font-size: 15px;
            color: #555;
        }
        input[type="date"], select, textarea {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            border: 1px solid #ccd0d5;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px; /* é¿å… iOS è‡ªå‹•æ”¾å¤§ç•«é¢ */
            background-color: #fafafa;
        }
        input[type="date"]:focus, select:focus, textarea:focus {
            border-color: #3498db;
            outline: none;
            background-color: #fff;
        }
        textarea {
            resize: vertical;
            height: 120px;
        }
        .btn-group {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }
        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            color: #fff;
            transition: background-color 0.2s;
        }
        .btn-save { background-color: #2980b9; }
        .btn-save:active { background-color: #2471a3; }
        .btn-clear { background-color: #e74c3c; }
        .btn-clear:active { background-color: #c0392b; }
        .status-msg {
            margin-top: 15px;
            text-align: center;
            font-size: 14px;
            color: #27ae60;
            font-weight: bold;
            min-height: 20px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>å‹¤å‹™äº¤æ¥ç°¿</h2>
    
    <label for="dutyDate">æ—¥æœŸ</label>
    <input type="date" id="dutyDate">

    <label for="shift">ç­åˆ¥</label>
    <select id="shift">
        <option value="day">æ—©ç­ (07:00 - 19:00)</option>
        <option value="night">æ™šç­ (19:00 - 07:00)</option>
    </select>

    <label for="handoverNotes">é‡é»äº¤æ¥äº‹é …èˆ‡ç•°å¸¸ç´€éŒ„</label>
    <textarea id="handoverNotes" placeholder="è«‹è¼¸å…¥éœ€äº¤æ¥çš„å» å€ç‹€æ³ã€äººå“¡é€²å‡ºç•°å¸¸æˆ–äº¤ä»£äº‹é …..."></textarea>

    <label for="equipmentStatus">è£å‚™èˆ‡ç’°å¢ƒé»äº¤</label>
    <textarea id="equipmentStatus" placeholder="ç„¡ç·šé›»ã€é‘°åŒ™æ•¸é‡ã€å·¡é‚è¨­å‚™ç‹€æ…‹..."></textarea>

    <div class="btn-group">
        <button class="btn-save" onclick="saveData()">æš«å­˜ç´€éŒ„</button>
        <button class="btn-clear" onclick="clearData()">æ¸…é™¤é‡å¡«</button>
    </div>
    <div id="statusMessage" class="status-msg"></div>
</div>

<script>
    // å–å¾— DOM å…ƒç´ 
    const dutyDate = document.getElementById('dutyDate');
    const shift = document.getElementById('shift');
    const handoverNotes = document.getElementById('handoverNotes');
    const equipmentStatus = document.getElementById('equipmentStatus');
    const statusMessage = document.getElementById('statusMessage');

    // é é¢è¼‰å…¥æ™‚ï¼šè®€å– Local Storage è³‡æ–™
    window.onload = function() {
        if(localStorage.getItem('dutyLog_date')) dutyDate.value = localStorage.getItem('dutyLog_date');
        if(localStorage.getItem('dutyLog_shift')) shift.value = localStorage.getItem('dutyLog_shift');
        if(localStorage.getItem('dutyLog_notes')) handoverNotes.value = localStorage.getItem('dutyLog_notes');
        if(localStorage.getItem('dutyLog_equip')) equipmentStatus.value = localStorage.getItem('dutyLog_equip');
        
        // è‹¥ç„¡æ—¥æœŸç´€éŒ„ï¼Œé è¨­å¸¶å…¥ä»Šæ—¥æ—¥æœŸ
        if(!dutyDate.value) {
            const today = new Date().toISOString().split('T')[0];
            dutyDate.value = today;
        }
    };

    // å„²å­˜è³‡æ–™åˆ° Local Storage
    function saveData() {
        localStorage.setItem('dutyLog_date', dutyDate.value);
        localStorage.setItem('dutyLog_shift', shift.value);
        localStorage.setItem('dutyLog_notes', handoverNotes.value);
        localStorage.setItem('dutyLog_equip', equipmentStatus.value);
        
        showStatus('âœ… ç´€éŒ„å·²æˆåŠŸæš«å­˜è‡³æ‰‹æ©Ÿç«¯');
    }

    // æ¸…é™¤è³‡æ–™èˆ‡ Local Storage
    function clearData() {
        if(confirm('ç¢ºå®šè¦æ¸…é™¤ç›®å‰å¡«å¯«çš„æ‰€æœ‰å…§å®¹å—ï¼Ÿ')) {
            localStorage.removeItem('dutyLog_date');
            localStorage.removeItem('dutyLog_shift');
            localStorage.removeItem('dutyLog_notes');
            localStorage.removeItem('dutyLog_equip');
            
            // æ¢å¾©é è¨­å€¼
            dutyDate.value = new Date().toISOString().split('T')[0];
            shift.value = 'day';
            handoverNotes.value = '';
            equipmentStatus.value = '';
            
            showStatus('ğŸ—‘ï¸ è³‡æ–™å·²æ¸…é™¤');
        }
    }

    // é¡¯ç¤ºç‹€æ…‹æç¤ºå­—å…ƒ
    function showStatus(msg) {
        statusMessage.innerText = msg;
        setTimeout(() => {
            statusMessage.innerText = '';
        }, 3000);
    }
</script>

</body>
</html>
