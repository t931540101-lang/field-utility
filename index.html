<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Field Utility v13</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="min-h-screen bg-[#0f172a] text-white p-4 overflow-y-auto">
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;
        const App = () => {
            const [logs, setLogs] = useState([]);
            const [view, setView] = useState('home');
            const [dog, setDog] = useState({ n: '', t: '', s: false });

            const dogs = [
                {n:'å¤§é»‘', t:'å®¹æ˜“ç‡¥ç†±ã€‚å»ºè­°ï¼šé­šè…¥è‰æ°´å¤–æ´—ã€‚'},
                {n:'å°ç™½', t:'è„¾èƒƒè¼ƒè™›ã€‚å»ºè­°ï¼šå››å›å­æ¹¯è£œæ°£ã€‚'},
                {n:'å°é»ƒ', t:'è€çŠ¬é—œç¯€ã€‚å»ºè­°ï¼šæœä»²ã€çºŒæ–·ã€‚'},
                {n:'é˜¿å¸ƒ', t:'è…¸èƒƒæ•æ„Ÿã€‚å»ºè­°ï¼šå±±è—¥ã€èŒ¯è‹“ã€‚'},
                {n:'è™æ–‘', t:'æ³¨æ„æ¿•ç–¹ã€‚å»ºè­°ï¼šè‹¦åƒæ´—ã€‚'},
                {n:'ç†Šè²“', t:'é«”è³ªè¼ƒå¼±ã€‚å»ºè­°ï¼šé»ƒè€†è£œæ°£ã€‚'},
                {n:'å¤šå¤š', t:'é£Ÿæ…¾ä¸æŒ¯ã€‚å»ºè­°ï¼šç¥æ›²ã€éº¥èŠ½ã€‚'},
                {n:'å¦å¦', t:'æ¸…ç†±è§£æ¯’ã€‚å»ºè­°ï¼šå°‘é‡é­šè…¥è‰ã€‚', cat:true}
            ];

            const save = (type, d) => {
                const ts = new Date().toLocaleTimeString('zh-TW',{hour12:false,hour:'2-digit',minute:'2-digit'});
                setLogs([{ type, ts, ...d, id: Date.now() }, ...logs]);
                setView('home');
            };

            return (
                <div class="max-w-md mx-auto pb-10">
                    {view === 'home' && (
                        <div>
                            <h1 class="text-2xl font-bold mb-6 flex items-center gap-2">ğŸ›¡ï¸ FIELD_UTILITY <span class="text-xs bg-blue-600 px-2 py-1 rounded">V13</span></h1>
                            
                            {/* ç™»è¨˜æŒ‰éˆ• */}
                            <div class="grid gap-4 mb-8">
                                <button onClick={()=>setView('v')} class="bg-white text-slate-900 p-6 rounded-3xl shadow-xl flex items-center justify-between active:scale-95 transition-all">
                                    <div class="text-left"><p class="text-xl font-bold">è¨ªå®¢é€²å‡ºç™»è¨˜</p><p class="text-slate-500 text-xs text-xs">å§“å / å…¬å¸ / äº‹ç”±</p></div>
                                    <span class="text-3xl">ğŸ‘¤</span>
                                </button>
                                <button onClick={()=>setView('t')} class="bg-white text-slate-900 p-6 rounded-3xl shadow-xl flex items-center justify-between active:scale-95 transition-all">
                                    <div class="text-left"><p class="text-xl font-bold">é€è²¨è»Šé‡ç™»è¨˜</p><p class="text-slate-500 text-xs">è»Šè™Ÿ / å¸æ©Ÿ / å…¬å¸</p></div>
                                    <span class="text-3xl">ğŸšš</span>
                                </button>
                            </div>

                            {/* ç‹—ç‹—é¢æ¿ */}
                            <div class="bg-slate-800 p-4 rounded-3xl mb-8 border border-slate-700">
                                <h2 class="text-sm font-bold mb-4 text-green-400 flex items-center gap-2">ğŸ• ç‹—ç‹—ä¸­é†«é«”è³ªé€ŸæŸ¥</h2>
                                <div class="grid grid-cols-3 gap-2">
                                    {dogs.map(d => (
                                        <button key={d.n} onClick={()=>setDog({n:d.n, t:d.t, s:true})} class={`p-2 rounded-xl text-xs font-bold border ${d.cat?'bg-orange-600/20 border-orange-500/50 text-orange-400':'bg-blue-600/20 border-blue-500/50 text-blue-400'}`}>{d.n}</button>
                                    ))}
                                </div>
                                {dog.s && (
                                    <div class="mt-4 p-4 bg-white rounded-2xl text-slate-900 text-sm font-bold border-l-4 border-blue-500 animate-bounce">
                                        ğŸ¾ {dog.n} çš„å»ºè­°ï¼š<br/>{dog.t}
                                    </div>
                                )}
                            </div>

                            <h2 class="text-xs font-bold text-blue-400 mb-4 border-l-2 border-blue-500 pl-2 uppercase">Today Logs</h2>
                            <div class="space-y-3">
                                {logs.map(l => (
                                    <div key={l.id} class="bg-slate-800 p-4 rounded-2xl border border-slate-700">
                                        <div class="flex justify-between text-[10px] text-slate-500 mb-1">
                                            <span>{l.type==='v'?'VISITOR':'TRUCK'}</span><span>{l.ts}</span>
                                        </div>
                                        <div class="font-bold text-base">{l.type==='v' ? `${l.n} [${l.c}]` : `${l.car} (${l.c})`}</div>
                                        <p class="text-xs text-slate-400 mt-1">{l.type==='v' ? `æ‰¾ ${l.ta} - ${l.r}` : `å¸æ©Ÿ: ${l.dr}`}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* è¼¸å…¥é é¢ */}
                    {view === 'v' && (
                        <div class="bg-slate-800 p-6 rounded-3xl border border-blue-500/30">
                            <h2 class="text-xl font-bold mb-4">ğŸ‘¤ è¨ªå®¢é€²å‡ºç™»è¨˜</h2>
                            <div class="space-y-3">
                                <input id="v1" placeholder="è¨ªå®¢å§“å" class="w-full bg-slate-700 p-4 rounded-2xl outline-none" />
                                <input id="v2" placeholder="å…¬å¸è¡Œè™Ÿ" class="w-full bg-slate-700 p-4 rounded-2xl outline-none" />
                                <input id="v3" placeholder="å—è¨ªäººå“¡" class="w-full bg-slate-700 p-4 rounded-2xl outline-none" />
                                <input id="v4" placeholder="é€²å ´äº‹ç”±" class="w-full bg-slate-700 p-4 rounded-2xl outline-none" />
                                <div class="flex gap-2 mt-4"><button onClick={()=>setView('home')} class="flex-1 p-4 bg-slate-600 rounded-2xl font-bold">å–æ¶ˆ</button><button onClick={()=>save('v',{n:document.getElementById('v1').value,c:document.getElementById('v2').value,ta:document.getElementById('v3').value,r:document.getElementById('v4').value})} class="flex-1 p-4 bg-blue-600 rounded-2xl font-bold">ç¢ºèª</button></div>
                            </div>
                        </div>
                    )}
                    {view === 't' && (
                        <div class="bg-slate-800 p-6 rounded-3xl border border-green-500/30">
                            <h2 class="text-xl font-bold mb-4">ğŸšš è»Šè¼›ç‰©å“ç™»è¨˜</h2>
                            <div class="space-y-3">
                                <input id="t1" placeholder="è»Šç‰Œè™Ÿç¢¼" class="w-full bg-slate-700 p-4 rounded-2xl outline-none" />
                                <input id="t2" placeholder="å…¬å¸è¡Œè™Ÿ" class="w-full bg-slate-700 p-4 rounded-2xl outline-none" />
                                <input id="t3" placeholder="å¸æ©Ÿå§“å" class="w-full bg-slate-700 p-4 rounded-2xl outline-none" />
                                <div class="flex gap-2 mt-4"><button onClick={()=>setView('home')} class="flex-1 p-4 bg-slate-600 rounded-2xl font-bold">å–æ¶ˆ</button><button onClick={()=>save('t',{car:document.getElementById('t1').value,c:document.getElementById('t2').value,dr:document.getElementById('t3').value})} class="flex-1 p-4 bg-green-600 rounded-2xl font-bold">ç¢ºèª</button></div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
