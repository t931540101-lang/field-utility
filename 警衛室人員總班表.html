// 在總班表的渲染邏輯中，加入這段監聽
db.ref('guard_requests').on('value', (snapshot) => {
    const requests = snapshot.val();
    if (requests) {
        // 遍歷所有人事資料
        Object.keys(requests).forEach(guardName => {
            Object.keys(requests[guardName]).forEach(date => {
                const status = requests[guardName][date];
                // 找到總班表上對應的格子 (例如: id="盧家慶_18")
                const cellId = `${guardName}_${date}`;
                const input = document.getElementById(cellId);
                if (input) {
                    input.value = status; // 自動顯示 ❌ 或 班別
                    if(status === '❌') input.style.color = 'red';
                }
            });
        });
    }
});
