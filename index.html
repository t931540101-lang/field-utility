<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>System Guard v1.0 | 小黑哥指揮中心</title>
    <!-- 引入 React 與 Tailwind 的引擎 (精簡穩定版) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #0a0a0c; color: #cbd5e1; -webkit-tap-highlight-color: transparent; margin: 0; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .neon-blue { box-shadow: 0 0 20px rgba(37, 99, 235, 0.2); }
        .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // 內建戰術圖標 (SVG 格式，保證不報錯)
        const Icon = ({ name, size = 20, className = "" }) => {
            const paths = {
                shield: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",
                paw: "M12 13c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm-4.2-2.5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm8.4 0c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5z",
                users: "M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2 M9 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",
                plus: "M12 5v14M5 12h14",
                check: "M20 6L9 17l-5-5",
                pencil: "M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",
                trash: "M3 6h18 M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",
                target: "M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",
                truck: "M1 3h15v13H1z M16 8h4l3 3v5h-7z"
            };
            return (
                <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    <path d={paths[name] || ""}/>
                </svg>
            );
        };

        function App() {
            const [tab, setTab] = useState('mission');
            const [currentTime, setCurrentTime] = useState(new Date());
            const [isAdding, setIsAdding] = useState(false);
            const [dogs, setDogs] = useState([
                { id: 1, name: '柔', breed: '台灣犬', status: 'healthy' },
                { id: 2, name: '歐告', breed: '黑犬', status: 'observation' }
            ]);

            useEffect(() => {
                const timer = setInterval(() => setCurrentTime(new Date()), 1000);
                return () => clearInterval(timer);
            }, []);

            return (
                <div className="min-h-screen flex flex-col safe-bottom">
                    <header className="p-6 border-b border-white/5 glass sticky top-0 z-50 flex justify-between items-center">
                        <div className="flex items-center space-x-3">
                            <div className="p-2 bg-blue-600 rounded-2xl neon-blue"><Icon name="shield" size={24} className="text-white"/></div>
                            <div>
                                <h1 className="text-xl font-black italic text-white tracking-tighter leading-none uppercase">SYSTEM GUARD</h1>
                                <p className="text-[10px] text-blue-500 font-bold uppercase tracking-widest mt-1">Ready for 2/1</p>
                            </div>
                        </div>
                        <div className="text-right font-mono text-blue-400 font-bold text-sm">
                            {currentTime.toLocaleTimeString([], {hour12:false})}
                        </div>
                    </header>

                    <main className="flex-1 p-6 space-y-8">
                        {tab === 'mission' && (
                            <div className="space-y-6 animate-in fade-in">
                                <div className="p-10 rounded-[3rem] glass bg-gradient-to-br from-blue-900/20 to-transparent relative overflow-hidden">
                                    <h2 className="text-3xl font-black italic text-white">指揮中心啟動</h2>
                                    <div className="mt-8 flex items-center space-x-5">
                                        <div className="w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center font-black text-white shadow-xl">黑</div>
                                        <div className="w-12 h-12 rounded-full bg-indigo-600 flex items-center justify-center font-black text-white shadow-xl text-xs">2/1</div>
                                        <span className="text-[11px] font-black text-blue-500 uppercase tracking-widest animate-pulse">● 守護計畫執行中</span>
                                    </div>
                                </div>
                                <div className="p-8 rounded-[2.5rem] glass border-white/5">
                                    <p className="text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2">守護戰力</p>
                                    <div className="text-4xl font-black text-white italic">{dogs.length} <span className="text-xs font-bold text-slate-600 uppercase tracking-widest">K9 Members</span></div>
                                </div>
                            </div>
                        )}

                        {tab === 'k9' && (
                            <div className="space-y-6">
                                <div className="flex justify-between items-end">
                                    <h2 className="text-3xl font-black italic text-white">K9 戰術專區</h2>
                                    <button onClick={()=>setIsAdding(true)} className="p-3 bg-blue-600 text-white rounded-2xl shadow-xl active:scale-90"><Icon name="plus" size={24}/></button>
                                </div>
                                {isAdding && (
                                    <form onSubmit={(e)=>{e.preventDefault(); setDogs([...dogs, {id:Date.now(), name:e.target.entry.value, status:'healthy'}]); setIsAdding(false);}} className="p-8 glass rounded-[3rem] space-y-4 border-blue-500/30">
                                        <input name="entry" required placeholder="輸入狗狗名字..." className="w-full p-4 bg-black/60 rounded-2xl border-white/10 text-white font-bold outline-none" autoFocus />
                                        <button className="w-full bg-blue-600 text-white py-4 rounded-2xl font-black text-xs tracking-widest uppercase">確認加入</button>
                                    </form>
                                )}
                                <div className="grid grid-cols-1 gap-4">
                                    {dogs.map(dog => (
                                        <div key={dog.id} className="p-6 rounded-[2rem] glass flex items-center justify-between transition-all">
                                            <div className="flex items-center space-x-4">
                                                <div className="w-12 h-12 rounded-xl bg-orange-500/20 flex items-center justify-center text-orange-500"><Icon name="paw" size={24} /></div>
                                                <div>
                                                    <h3 className="text-xl font-black text-white italic">{dog.name}</h3>
                                                    <p className="text-[10px] text-slate-500 font-bold uppercase">{dog.status}</p>
                                                </div>
                                            </div>
                                            <div className="flex gap-2">
                                                {['healthy','observation','sick'].map(s=>(
                                                    <button key={s} onClick={()=>setDogs(dogs.map(d=>d.id===dog.id?{...d,status:s}:d))} className={`w-3 h-3 rounded-full ${dog.status===s?'bg-white':'bg-white/10'}`}/>
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {(tab === 'visitors' || tab === 'vehicles') && (
                            <div className="p-12 text-center glass rounded-[3rem]">
                                <Icon name="shield" size={48} className="mx-auto text-slate-800 mb-4" />
                                <p className="text-slate-500 font-black italic tracking-widest text-sm uppercase">智慧安防流程 v1.0 運作中</p>
                            </div>
                        )}
                    </main>

                    <nav className="fixed bottom-0 left-0 right-0 p-5 pb-10 glass border-t border-white/10 flex justify-around items-center z-50">
                        <button onClick={() => setTab('mission')} className={`p-4 rounded-2xl ${tab === 'mission' ? 'text-blue-500 bg-blue-500/10 shadow-lg' : 'text-slate-500'}`}><Icon name="shield" size={24}/></button>
                        <button onClick={() => setTab('k9')} className={`p-4 rounded-2xl ${tab === 'k9' ? 'text-orange-500 bg-orange-500/10 shadow-lg' : 'text-slate-500'}`}><Icon name="paw" size={24}/></button>
                        <button onClick={()=>setIsAdding(true)} className="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-2xl shadow-blue-900/40 -mt-16 border-[6px] border-[#0a0a0c] active:scale-90 transition-all"><Icon name="plus" size={28}/></button>
                        <button onClick={() => setTab('visitors')} className={`p-4 rounded-2xl ${tab === 'visitors' ? 'text-blue-500 bg-blue-500/10' : 'text-slate-500'}`}><Icon name="users" size={24}/></button>
                        <button onClick={() => setTab('vehicles')} className={`p-4 rounded-2xl ${tab === 'vehicles' ? 'text-purple-500 bg-purple-500/10' : 'text-slate-500'}`}><Icon name="truck" size={24}/></button>
                    </nav>
                </div>
            );
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
