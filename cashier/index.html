<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è­¦è¡›å®¤æ”¶éŠ€ç³»çµ±-å°ˆæ¥­æ­¸ä½ç‰ˆ</title>
    <style>
        body { font-family: sans-serif; background-color: #e8f5e9; padding: 15px; color: #000; margin: 0; } /* ç¶ åº•é»‘å­— */
        .card { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 15px; }
        h2 { color: #2e7d32; font-size: 1.1rem; border-left: 5px solid #2e7d32; padding-left: 10px; }
        
        /* åˆ†æ ¼æ’åˆ— */
        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; box-sizing: border-box; }
        
        .full-width-btn { width: 100%; padding: 15px; background-color: #2e7d32; color: white; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; }
        .list-header { display: grid; grid-template-columns: 2fr 3fr 2fr 1fr; font-weight: bold; border-bottom: 2px solid #2e7d32; padding-bottom: 5px; margin-bottom: 10px; }
        .list-item { display: grid; grid-template-columns: 2fr 3fr 2fr 1fr; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; font-size: 14px; }
        
        .edit-btn { background: none; color: #1976d2; border: none; cursor: pointer; font-size: 18px; text-align: center; }
        .total-box { background: #c8e6c9; padding: 15px; border-radius: 8px; text-align: center; font-size: 22px; font-weight: bold; color: #1b5e20; }
    </style>
</head>
<body>

    <div class="card">
        <h2>ğŸ’° è­¦è¡›å®¤æ”¶éŠ€ç™»è¨˜</h2>
        <div class="input-grid">
            <div>
                <label style="font-size: 12px;">æ—¥æœŸ</label>
                <input type="date" id="entryDate">
            </div>
            <div>
                <label style="font-size: 12px;">å» å•†åç¨±</label>
                <input type="text" id="vendorName" placeholder="å¦‚: ç”²å» å•†">
            </div>
        </div>
        <div class="input-grid">
            <div>
                <label style="font-size: 12px;">å–®åƒ¹</label>
                <input type="number" id="unitPrice" value="65">
            </div>
            <div>
                <label style="font-size: 12px;">æ•¸é‡</label>
                <input type="number" id="quantity" value="1">
            </div>
        </div>
        <button class="full-width-btn" onclick="addEntry()">ç«‹å³ç™»è¨˜</button>
    </div>

    <div class="card">
        <h2>ğŸ“‹ æ”¶éŠ€ç´€éŒ„æ˜ç´°</h2>
        <div class="list-header">
            <div>æ—¥æœŸ</div><div>å» å•†</div><div>é‡‘é¡</div><div>âœï¸</div>
        </div>
        <div id="entryList">
            </div>
    </div>

    <div class="card">
        <h2>ğŸ“Š æœˆåº•è‡ªå‹•çµç®—</h2>
        <div class="total-box" id="totalAmount">æœ¬æœˆç¸½è¨ˆ: $ 0</div>
    </div>

    <script>
        // è¨­å®šä»Šå¤©æ—¥æœŸ
        document.getElementById('entryDate').valueAsDate = new Date();
        
        let entries = [];

        function addEntry() {
            let date = document.getElementById('entryDate').value;
            let vendor = document.getElementById('vendorName').value;
            let price = parseInt(document.getElementById('unitPrice').value) || 0;
            let qty = parseInt(document.getElementById('quantity').value) || 0;
            
            if(vendor && price > 0 && qty > 0) {
                entries.push({ date: date, vendor: vendor, total: price * qty });
                updateUI();
                document.getElementById('vendorName').value = '';
                document.getElementById('quantity').value = '1';
            }
        }

        function editEntry(index) {
            let newTotal = prompt("ä¿®æ”¹ã€Œ" + entries[index].vendor + "ã€çš„é‡‘é¡ï¼š", entries[index].total);
            if (newTotal !== null && !isNaN(newTotal) && newTotal !== "") {
                entries[index].total = parseInt(newTotal);
                updateUI();
            }
        }

        function updateUI() {
            let listHtml = '';
            let totalSum = 0;
            entries.forEach((item, index) => {
                totalSum += item.total;
                // æ ¼å¼åŒ–æ—¥æœŸåªé¡¯ç¤ºæœˆ/æ—¥
                let displayDate = item.date.split('-').slice(1).join('/');
                listHtml += `
                    <div class="list-item">
                        <div>${displayDate}</div>
                        <div>${item.vendor}</div>
                        <div>$${item.total.toLocaleString()}</div>
                        <button class="edit-btn" onclick="editEntry(${index})">âœï¸</button>
                    </div>`;
            });
            document.getElementById('entryList').innerHTML = listHtml;
            document.getElementById('totalAmount').innerText = "æœ¬æœˆç¸½è¨ˆ: $ " + totalSum.toLocaleString();
        }
    </script>
</body>
</html>
