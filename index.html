<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Field Utility v13</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="min-h-screen bg-slate-900 text-white p-4 overflow-y-auto">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const App = () => {
            const [logs, setLogs] = useState([]);
            const [view, setView] = useState('home'); // 'home', 'visitor', 'truck'

            const saveLog = (data) => {
                const newLog = { 
                    ...data, 
                    id: Date.now(),
                    time: new Date().toLocaleTimeString('zh-TW', {hour12:false, hour:'2-digit', minute:'2-digit'})
                };
                setLogs([newLog, ...logs]);
                setView('home');
            };

            return (
                <div class="max-w-md mx-auto">
                    {view === 'home' && (
                        <div>
                            <h1 class="text-2xl font-bold mb-6 flex items-center gap-2">ğŸ›¡ï¸ FIELD_UTILITY <span class="text-sm bg-blue-600 px-2 py-1 rounded">V13</span></h1>
                            <div class="grid gap-4 mb-8">
                                <button onClick={() => setView('visitor')} class="bg-white text-slate-900 p-6 rounded-3xl shadow-xl flex items-center justify-between active:scale-95 transition-transform">
                                    <div class="text-left"><p class="text-xl font-bold">è¨ªå®¢é€²å‡ºç™»è¨˜</p><p class="text-slate-500 text-sm">å§“å / é›»è©± / äº‹ç”±</p></div>
                                    <span class="text-3xl">ğŸ‘¤</span>
                                </button>
                                <button onClick={() => setView('truck')} class="bg-white text-slate-900 p-6 rounded-3xl shadow-xl flex items-center justify-between active:scale-95 transition-transform">
                                    <div class="text-left"><p class="text-xl font-bold">é€è²¨è»Šé‡ç™»è¨˜</p><p class="text-slate-500 text-sm">è»Šè™Ÿ / å¸æ©Ÿ / ç¨®é¡</p></div>
                                    <span class="text-3xl">ğŸšš</span>
                                </button>
                            </div>
                            <h2 class="text-lg font-bold mb-3 border-l-4 border-blue-500 pl-2 text-blue-400">ä»Šæ—¥ç™»è¨˜ç´€éŒ„</h2>
                            <div class="space-y-3">
                                {logs.map(log => (
                                    <div key={log.id} class="bg-slate-800 p-4 rounded-2xl border border-slate-700">
                                        <div class="flex justify-between text-sm text-slate-400 mb-1">
                                            <span>{log.type === 'visitor' ? 'ğŸ‘¤ è¨ªå®¢' : 'ğŸšš é€è²¨'}</span>
                                            <span>{log.time}</span>
                                        </div>
                                        <div class="font-bold text-lg">
                                            {log.type === 'visitor' ? `${log.name} - ${log.reason}` : `${log.carId} (${log.driver})`}
                                        </div>
                                        <p class="text-sm text-slate-400">{log.type === 'visitor' ? log.phone : `ç¨®é¡: ${log.cargo}`}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {view === 'visitor' && (
                        <div class="bg-slate-800 p-6 rounded-3xl shadow-2xl border border-blue-500/30">
                            <h2 class="text-xl font-bold mb-4 flex items-center gap-2">ğŸ‘¤ è¨ªå®¢ç™»è¨˜è¡¨</h2>
                            <div class="space-y-4">
                                <div><label class="text-sm text-slate-400">è¨ªå®¢å§“å</label><input id="v_name" class="w-full bg-slate-700 p-3 rounded-xl mt-1 outline-none focus:ring-2 ring-blue-500" placeholder="è«‹è¼¸å…¥å§“å" /></div>
                                <div><label class="text-sm text-slate-400">è¯çµ¡é›»è©±</label><input id="v_phone" class="w-full bg-slate-700 p-3 rounded-xl mt-1 outline-none" placeholder="09XX-XXX-XXX" /></div>
                                <div><label class="text-sm text-slate-400">é€²å ´äº‹ç”±</label><input id="v_reason" class="w-full bg-slate-700 p-3 rounded-xl mt-1 outline-none" placeholder="ä¾‹å¦‚ï¼šæ‰¾è€é—†" /></div>
                                <div class="flex gap-3 pt-4">
                                    <button onClick={() => setView('home')} class="flex-1 bg-slate-600 py-4 rounded-2xl font-bold">å–æ¶ˆ</button>
                                    <button onClick={() => saveLog({
                                        type: 'visitor',
                                        name: document.getElementById('v_name').value,
                                        phone: document.getElementById('v_phone').value,
                                        reason: document.getElementById('v_reason').value
                                    })} class="flex-1 bg-blue-600 py-4 rounded-2xl font-bold">ç¢ºèªç™»è¨˜</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {view === 'truck' && (
                        <div class="bg-slate-800 p-6 rounded-3xl shadow-2xl border border-green-500/30">
                            <h2 class="text-xl font-bold mb-4 flex items-center gap-2">ğŸšš é€è²¨è»Šé‡ç™»è¨˜</h2>
                            <div class="space-y-4">
                                <div><label class="text-sm text-slate-400">è»Šç‰Œè™Ÿç¢¼</label><input id="t_car" class="w-full bg-slate-700 p-3 rounded-xl mt-1 outline-none focus:ring-2 ring-green-500" placeholder="ä¾‹å¦‚ï¼šABC-123" /></div>
                                <div><label class="text-sm text-slate-400">å¸æ©Ÿå§“å</label><input id="t_driver" class="w-full bg-slate-700 p-3 rounded-xl mt-1 outline-none" placeholder="è«‹è¼¸å…¥å§“å" /></div>
                                <div><label class="text-sm text-slate-400">é€è²¨ç¨®é¡</label><input id="t_cargo" class="w-full bg-slate-700 p-3 rounded-xl mt-1 outline-none" placeholder="ä¾‹å¦‚ï¼šåŸæ–™ / é›¶ä»¶" /></div>
                                <div class="flex gap-3 pt-4">
                                    <button onClick={() => setView('home')} class="flex-1 bg-slate-600 py-4 rounded-2xl font-bold">å–æ¶ˆ</button>
                                    <button onClick={() => saveLog({
                                        type: 'truck',
                                        carId: document.getElementById('t_car').value,
                                        driver: document.getElementById('t_driver').value,
                                        cargo: document.getElementById('t_cargo').value
                                    })} class="flex-1 bg-green-600 py-4 rounded-2xl font-bold">ç¢ºèªç™»è¨˜</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
