<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M-SECURITY | K9 çµ‚ç«¯</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        :root { --main: #ff9800; --sub: #00d2ff; --bg: #050505; }
        body { background: var(--bg); color: #fff; font-family: monospace; margin: 0; padding: 15px; }
        .header { border-bottom: 1px solid var(--main); padding-bottom: 10px; margin-bottom: 15px; display: flex; justify-content: space-between; }
        .title { color: var(--main); font-weight: 900; font-size: 24px; }
        .input-card { background: #111; border: 1px solid #333; padding: 15px; margin-bottom: 15px; }
        input { background: #000; border: 1px solid var(--sub); color: var(--sub); padding: 12px; width: 100%; box-sizing: border-box; margin-bottom: 10px; font-size: 18px; }
        .btn-exe { background: var(--main); color: #000; border: none; padding: 15px; width: 100%; font-weight: 900; font-size: 18px; cursor: pointer; }
        #res { margin-top: 15px; padding: 15px; border-radius: 4px; display: none; }
        .is-black { border: 3px solid red; background: #2b0000; color: #ff5555; }
        .is-ok { border: 1px solid var(--main); background: #111; }
    </style>
</head>
<body>

    <div class="header">
        <div class="title">M-SECURITY</div>
        <div style="font-size: 10px; color: var(--sub);">STATUS: CLOUD-ONLINE</div>
    </div>

    <div class="input-card">
        <div style="color:var(--sub); font-size:12px; margin-bottom:5px;">è»Šç‰Œ/å·¥è™ŸæŸ¥é©—</div>
        <input type="text" id="target" placeholder="è«‹è¼¸å…¥æ¬²æŸ¥è©¢è³‡æ–™">
        <button class="btn-exe" onclick="checkUnit()">åŸ·è¡ŒæŸ¥é©— (DEPLOY)</button>
    </div>

    <div id="res"></div>

    <div style="text-align:right; margin-top:30px; color:#444; font-size:12px;">
        K9-UNIT-ACTIVE<br>20260224_TACTICAL
    </div>

    <script>
        // 1. å¡«å…¥ä½ çš„é›²ç«¯é…ç½®
        const firebaseConfig = {
            apiKey: "AIzaSyB2_tKKsVT4kdW7PPkJgI9O7S1YdCWor48",
            authDomain: "factor-security-d1965.firebaseapp.com",
            databaseURL: "https://factor-security-d1965-default-rtdb.firebaseio.com",
            projectId: "factor-security-d1965",
            storageBucket: "factor-security-d1965.firebasestorage.app",
            messagingSenderId: "864846943143",
            appId: "1:864846943143:web:4cfa18cd20d2f712225c82"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // 2. æ ¸å¿ƒæŸ¥é©—é‚è¼¯
        function checkUnit() {
            const val = document.getElementById('target').value.trim().toUpperCase();
            if(!val) return;
            const resBox = document.getElementById('res');

            // åŒæ­¥å°é½Šå¾Œå°è·¯å¾‘ï¼šM_SECURITY/blacklist
            db.ref('M_SECURITY/blacklist/' + val).once('value', (snap) => {
                const data = snap.val();
                resBox.style.display = 'block';
                
                if(data) {
                    // æŸ¥åˆ°é»‘åå–®äº†ï¼
                    resBox.className = 'is-black';
                    resBox.innerHTML = `<h3>ğŸš¨ ç®¡åˆ¶å°è±¡ ğŸš¨</h3><p>å§“åï¼š${data.name}</p><p>åŸå› ï¼š${data.reason}</p>`;
                } else {
                    // æ­£å¸¸ç‹€æ…‹
                    resBox.className = 'is-ok';
                    resBox.innerHTML = `<h3>[ æŸ¥é©—æ­£å¸¸ ]</h3><p>å°è±¡ï¼š${val}</p><p>ç‹€æ…‹ï¼šæœªå—ç®¡åˆ¶</p>`;
                }
            });
        }
    </script>
</body>
</html>
