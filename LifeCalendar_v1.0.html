// ... (前面的 Firebase 設定與內容都一樣，我們重點修改 App 函數內部)

function App() {
    const todayObj = new Date();
    const [curYear, setCurYear] = useState(todayObj.getFullYear());
    const [curMonth, setCurMonth] = useState(todayObj.getMonth());
    const [schedules, setSchedules] = useState({});
    
    // 這裡改用 localStorage 記住姓名與工號
    const [userName, setUserName] = useState(localStorage.getItem('guardName') || "小黑哥");
    const [userID, setUserID] = useState(localStorage.getItem('guardID') || "D01762");
    
    const [factory, setFactory] = useState("");
    const [shiftType, setShiftType] = useState("");
    const [isClearMode, setIsClearMode] = useState(false);

    // 當姓名或工號改變時，自動存檔
    useEffect(() => {
        localStorage.setItem('guardName', userName);
        localStorage.setItem('guardID', userID);
    }, [userName, userID]);

    // ... (中間的 handleCellClick 等功能保留)

    return (
        <div className="max-w-lg mx-auto bg-[#f9f4e8] min-h-screen pb-24">
            {/* 上方的黑色看板，現在點擊文字就能直接修改 */}
            <div className="bg-black text-white px-3 py-2 text-lg font-black flex justify-between border-b-2 border-[#c0392b]">
                <div onClick={() => {
                    const n = prompt("請輸入姓名：", userName);
                    if(n) setUserName(n);
                }}>姓名：{userName} ✎</div>
                
                <div onClick={() => {
                    const id = prompt("請輸入工號：", userID);
                    if(id) setUserID(id);
                }}>工號：{userID} ✎</div>
            </div>

            {/* ... (下方的日曆與工具列保留) */}
